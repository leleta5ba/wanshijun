<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>格式转换工具</title>
  <style>textarea{width:100%;height:200px}</style>
</head>
<body>
  <h3>粘贴你的原始文本（如：porter：The porter...（搬运工...））</h3>
  <textarea id="input" placeholder="porter：The porter carried...（搬运工...）"></textarea>
  <button onclick="convert()">转换为标准格式</button>
  <h3>结果（复制到 TXT）：</h3>
  <textarea id="output" placeholder="porter|The porter carried..."></textarea>

  <script>
    function convert() {
      const input = document.getElementById('input').value;
      const lines = input.split('\n');
      const output = lines.map(line => {
        line = line.trim();
        if (!line) return line;
        // 移除中文部分（括号及之后）
        let clean = line.split('（')[0].split('(')[0].trim();
        // 将第一个中文冒号或英文冒号替换为 |
        clean = clean.replace(/：|:/, '|');
        return clean;
      }).join('\n');
      document.getElementById('output').value = output;
    }
  </script>
</body>
</html>